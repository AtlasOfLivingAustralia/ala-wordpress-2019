"use strict";!function(a){a(document).ready(function(n){function t(t){for(var e=encodeURIComponent(t)+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var n=a[o];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return decodeURIComponent(n.substring(e.length,n.length))}return null}var e;"loggedin"==t("ALA-js-auth")?(n(".ala-auth-buttons-logged-in").removeClass("d-none"),n(".ala-auth-buttons-logged-out").addClass("d-none")):(n(".ala-auth-buttons-logged-in").addClass("d-none"),n(".ala-auth-buttons-logged-out").removeClass("d-none")),n('[data-toggle="offcanvas"]').on("click",function(){n(".site").toggleClass("offcanvas-open")}),n(".swiper-container").each(function(t,e){n(e).addClass("swiper-".concat(t));new Swiper(".swiper-".concat(t),{slidesPerView:1,spaceBetween:0,effect:"fade",centeredSlides:!0,fadeEffect:{crossFade:!0},preventClicks:!1,lazyPreloadPrevNext:1,navigation:!1,loop:!0,speed:2e3,autoplay:{delay:7500,disableOnInteraction:!1}})}),n(".autocompleteBIE").easyAutocomplete({url:function(t){return"https://bie-ws.ala.org.au/ws/search/auto.json?q="+t},getValue:"matchedNames",requestDelay:300,adjustWidth:!1,minCharNumber:3,listLocation:"autoCompleteList",list:{maxNumberOfElements:10}});function s(t){return t.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")}n(".autocompleteHome").easyAutocomplete({url:function(t){return"https://bie-ws.ala.org.au/ws/search/auto.json?q="+t},getValue:"matchedNames",requestDelay:300,adjustWidth:!1,minCharNumber:3,listLocation:"autoCompleteList",list:{maxNumberOfElements:4}}),n("#autocompleteSearchALA").on("shown.bs.collapse",function(){n("#autocompleteSearchALA input").focus()}),n(".featured-swiper").each(function(e,a){n(a).addClass("featured-".concat(e));var o=void 0;function t(){var t=n(window).width();t<992&&null==o?o=new Swiper(".featured-".concat(e),{loop:!1,slidesPerView:2,spaceBetween:40,speed:1e3,autoplay:{delay:5e3,disableOnInteraction:!1},preventClicks:!1,effect:"slide",preloadImages:!1,lazy:{loadPrevNext:!0},navigation:{nextEl:".featured-button-next",prevEl:".featured-button-prev"},breakpoints:{767:{slidesPerView:1,spaceBetween:40}}}):991<t&&null!=o&&(o.destroy(),o=void 0,jQuery(a).find(".swiper-wrapper").removeAttr("style"),jQuery(a).find(".swiper-slide").removeAttr("style"))}t(),n(window).on("resize",function(){t()})}),n('[data-toggle="tooltip"]').tooltip(),n('a[data-toggle="tab"]').click(function(t){var e=n(this).attr("id"),a=n(this).text();document.cookie="alaTab="+e+";max-age=31536000","undefined"!=typeof ga&&(console.log("sending GA event: Home tab click "+a),ga("send",{hitType:"event",eventCategory:"Home tabs",eventAction:"tab click",eventLabel:a}))}),n("body.home .nav-tabs").length&&((e=t("alaTab"))?n('.nav-tabs a[id="'+e+'"]'):""!==location.hash?n('.nav-tabs a[href="'+location.hash.replace("tab_","")+'"]'):n(".nav-tabs a:first")).tab("show"),n('a[data-toggle="tab"]').on("shown.bs.tab",function(t){n(this).attr("id");var e=n(this).text();location.hash="tab_"+n(t.target).attr("href").substr(1),"undefined"!=typeof ga&&(console.log("sending GA event: Home tab shown "+e),ga("send",{hitType:"event",eventCategory:"Home tabs",eventAction:"tab shown",eventLabel:e}))}),n("[data-sticky]").stickybits({useStickyClasses:!0,stickyBitStickyOffset:20}),n("#anchorList").length&&n("body").scrollspy({target:"#anchorList"});var i=s(location.pathname);n('a[href*="#"]').not("[data-toggle]").each(function(){var e,a,t=s(this.pathname)||i,o=this.hash;n("#"+o.replace(/#/,"")).length&&!(i!=t||location.hostname!=this.hostname&&this.hostname)&&this.hash.replace(/#/,"")&&(e=n(o),a=this.hash)&&n(this).click(function(t){t.preventDefault(),n("html, body").animate({scrollTop:e.offset().top},1e3,function(){if(location.hash=a,e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()})})})});a(window).outerWidth()<768&&a(".tab-box").find("[aria-expanded=true]").click();function e(t){var e=t,t=e.attr("data-count");e.html("0"),a({countNum:e.text()}).animate({countNum:t},{duration:1e3,easing:"linear",step:function(){var t=Math.floor(this.countNum);e.text(t.toLocaleString())},complete:function(){e.text(this.countNum.toLocaleString())}})}a(".ala-home-stats").length&&a.getJSON("https://dashboard.ala.org.au/dashboard/homePageStats",function(t){a("#alaOccurrencesTotal").attr("data-count",t.recordCounts.count),a("#alaDatasetsTotal").attr("data-count",t.datasetCounts.count),e(a("#alaOccurrencesTotal")),e(a("#alaDatasetsTotal"))})}(jQuery);